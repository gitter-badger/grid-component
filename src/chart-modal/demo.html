<script type='text/stache' id="demo" can-autorender>
	<can-import from="components/grid-component/chart-modal/" />
	<can-import from="components/chart-component/line-chart/" />
	<can-import from="components/error-messages/" />

  <div id="demo-container">

    <error-messages message="{errorMessage}"></error-messages>

    <chart-modal  appstate="{appstate}"
                  preferred-ccy="{preferredCcy}"
                  model="{ChartModel}"
                  selected-row="{selectedRow}"
                  error-message="{errorMessage}">

      <!--<table><tbody><tr>-->
        <!--<td>Table cell</td>-->
        <!--<td>Table cell</td>-->
        <!--<td>Table cell</td>-->
      <!--</tr></tbody></table>-->

      {{#if series.growthSeries}}
      <line-chart  x-categories="{periods}"
                   series="{series.growthSeries}"
                   chart-title="Sales Report for USA"
                   x-title="Period"
                   y-title="Amount in USD"></line-chart>
      {{/if}}
      <!--{{#if series.revenueSeries}}-->
      <!--<line-chart  x-categories="{periods}"-->
                   <!--series="{series.revenueSeries}"-->
                   <!--chart-title="Sales Report for USA"-->
                   <!--x-title="Period"-->
                   <!--y-title="Amount in USD"></line-chart>-->
      <!--{{/if}}-->

    </chart-modal>
  </div>
</script>

<script src='../../../node_modules/steal/steal.js'
        main="can/view/autorender/">

  import can from "can";
  import $ from "jquery";
  import appstate from 'models/appstate/';
  import SalesReportChart from 'models/sales-report-chart/';
  import 'models/sales-report-chart/fixture';

  $("#demo").viewModel().attr({
    errorMessage: '',
    selectedRow: {
      currency: 'SWK',
      country: 'SWE'
    },
    appstate: appstate,
    ChartModel: SalesReportChart

    //periods: new can.List(['P05FY15','P06FY15','P07FY15','P08FY15']),
    //amountSeries: new can.List([
    //  {name: 'Movie', data: [100,200,300,100]},
    //  {name: 'Music', data: [200,100,400,400]}
    //])

  });
</script>